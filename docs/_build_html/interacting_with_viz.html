

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Interacting with the Visualization &mdash; Clustergrammer 1.0.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Clustergrammer 1.0.0 documentation" href="index.html"/>
        <link rel="next" title="Biology-Specific Features" href="biology_specific_features.html"/>
        <link rel="prev" title="Clustergrammer Jupyter Widget" href="clustergrammer_widget.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Clustergrammer
          

          
          </a>

          
            
            
              <div class="version">
                1.0.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="clustergrammer_web.html">Clustergrammer Web App</a></li>
<li class="toctree-l1"><a class="reference internal" href="clustergrammer_widget.html">Clustergrammer Jupyter Widget</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Interacting with the Visualization</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction-to-clustergrams-heatmaps">Introduction to Clustergrams/Heatmaps</a></li>
<li class="toctree-l2"><a class="reference internal" href="#zooming-and-panning">Zooming and Panning</a></li>
<li class="toctree-l2"><a class="reference internal" href="#mouseover-interactions">Mouseover Interactions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#row-and-column-reordering">Row and Column Reordering</a></li>
<li class="toctree-l2"><a class="reference internal" href="#interactive-dimensionality-reduction">Interactive Dimensionality Reduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="#interactive-dendrogram">Interactive Dendrogram</a></li>
<li class="toctree-l2"><a class="reference internal" href="#interactive-categories">Interactive Categories</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cropping">Cropping</a></li>
<li class="toctree-l2"><a class="reference internal" href="#downloading-data-from-the-visualization">Downloading Data from the Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#taking-a-snapshot-of-the-visualization">Taking a Snapshot of the Visualization</a></li>
<li class="toctree-l2"><a class="reference internal" href="#changing-the-opacity">Changing the Opacity</a></li>
<li class="toctree-l2"><a class="reference internal" href="#row-searching">Row Searching</a></li>
<li class="toctree-l2"><a class="reference internal" href="#expanding">Expanding</a></li>
<li class="toctree-l2"><a class="reference internal" href="#biology-specific-interactions">Biology Specific Interactions</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="biology_specific_features.html">Biology-Specific Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="case_studies.html">Case Studies</a></li>
<li class="toctree-l1"><a class="reference internal" href="matrix_format_io.html">Matrix Formats and Input/Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="building_webpage.html">Clustergrammer for Web-development</a></li>
<li class="toctree-l1"><a class="reference internal" href="clustergrammer_js.html">Clustergrammer-JS</a></li>
<li class="toctree-l1"><a class="reference internal" href="clustergrammer_py.html">Clustergrammer-PY</a></li>
<li class="toctree-l1"><a class="reference internal" href="app_integration.html">Clustergrammer App Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="developing_with_clustergrammer.html">Developing Clustergrammer</a></li>
<li class="toctree-l1"><a class="reference internal" href="license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Clustergrammer</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Interacting with the Visualization</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/interacting_with_viz.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="interacting-with-the-visualization">
<span id="interacting-with-viz"></span><h1>Interacting with the Visualization<a class="headerlink" href="#interacting-with-the-visualization" title="Permalink to this headline">¶</a></h1>
<p>Data visualizations benefit enormously from user interactions that allow users to explore and generate new views of their data. Clustergrammer produces highly interactive heatmaps that enable users to intuitively explore and perform complex transformations on their data. Clustergrammer visualizations are consistent across the <a class="reference internal" href="clustergrammer_web.html#clustergrammer-web"><span class="std std-ref">Clustergrammer Web App</span></a> and the <a class="reference internal" href="clustergrammer_widget.html#clustergrammer-widget"><span class="std std-ref">Clustergrammer Jupyter Widget</span></a> and are built using <a class="reference internal" href="clustergrammer_js.html#clustergrammer-js"><span class="std std-ref">Clustergrammer-JS</span></a>. This section will cover the types of interactions available to the user.</p>
<div class="section" id="introduction-to-clustergrams-heatmaps">
<h2>Introduction to Clustergrams/Heatmaps<a class="headerlink" href="#introduction-to-clustergrams-heatmaps" title="Permalink to this headline">¶</a></h2>
<p>Clustergrammer visualizes high-dimensional data as a hierarchically clustered matrix with colored tiles (red for positive numbers and blue for negative numbers) and row/column labels, commonly referred to as a heatmap or clustergram (this documentation uses heatmap and clustergram interchangeably, see <a class="reference external" href="http://www.pnas.org/content/95/25/14863.full">Eisen et al., 1998</a> for an early example using biological data). Clustergrams also typically have <a class="reference external" href="https://en.wikipedia.org/wiki/Dendrogram">dendrogram trees</a> to depict the hierarchy of row and column clusters produced by <a class="reference external" href="https://docs.scipy.org/doc/scipy-0.18.1/reference/cluster.hierarchy.html">hierarchical clustering</a>.</p>
<p>Heatmaps are a powerful visualizations that enable users to directly visualize high-dimensional data without the loss of information and interpretability associated with dimensionality reduction techniques (e.g. <a class="reference external" href="https://lvdmaaten.github.io/tsne/">t-SNE</a>). For instance, columns can depict measurements (e.g. data-points) and rows can depict dimensions (e.g. measured variables). In this way, heatmaps can visualize thousands of data-points in thousands of dimensions. However, static heatmaps are of limited use for visualizing large datasets (e.g. matrix cells and labels become too small to read). Furthermore, static heatmaps prevent users from interactively exploring their data, e.g. reordering rows/columns.</p>
</div>
<div class="section" id="zooming-and-panning">
<h2>Zooming and Panning<a class="headerlink" href="#zooming-and-panning" title="Permalink to this headline">¶</a></h2>
<p>Clustergrammer allows users to zoom and pan by scrolling and dragging. This is useful for working with large datasets (where labels are not readable without zooming) and for zooming into regions of interest of your data.</p>
<p><strong>Zooming Panning Behavior</strong></p>
<p>Zooming occurs in two stages. First zooming/panning occurs in the direction that matrix cells have been more compressed (e.g. if there are more more rows than columns, then matrix cells will be compressed in the vertical direction and will be wide). Once zooming has decompressed matrix cells (e.g. matrix cells are now squares) then zooming/panning occurs in both directions. For instance, when visualizing a matrix with many more columns than rows zooming/panning will occur in the horizontal direction first until matrix cells have equal width and height, then zooming/panning will be allowed in the vertical and horizontal direction.</p>
<p><strong>Large Matrix Behavior</strong></p>
<p>Clustergrammer is capable of visualizing matrices with ~500,000 to ~1,000,000 matrix cells, but is optimized to visualize matrices with more rows than columns. Clustergrammer uses row-downsampling to improve visualization performance with large matrices. If a user visualizes a matrix with a large number of rows (e.g. &gt;1000-2000) such that each matrix cell is less than 1 pixel tall, then Clustergrammer will perform downsampling. When zoomed out, the user will see a downsampled version of their data. Zooming into the matrix will bring up successively less downsampled views until the original data is shown (e.g. when the original matrix cells are &gt; 1 pixels tall). Clustergrammer will also not display row labels until their font size is above ~5 pixels and they are readable. Clustergrammer will also hide row/column labels while zooming into large matrices to improve performance.</p>
</div>
<div class="section" id="mouseover-interactions">
<h2>Mouseover Interactions<a class="headerlink" href="#mouseover-interactions" title="Permalink to this headline">¶</a></h2>
<p>Mousing over visualization elements brings up more information in tooltips. For instance, mousing over matrix cells brings up a tooltip with the row name, column name, and value of the matrix cell.</p>
<blockquote>
<div><strong>&lt;screenshot of mouseover tooltip&gt;</strong></div></blockquote>
<p>See <a class="reference internal" href="clustergrammer_js.html#clustergrammer-js-api"><span class="std std-ref">Clustergrammer-JS API</span></a> for information about adding callback functions to mouseover events and <a class="reference internal" href="biology_specific_features.html#hzome-gene-info"><span class="std std-ref">Mouseover Gene Name and Description</span></a> for biology specific mouseover behavior.</p>
</div>
<div class="section" id="row-and-column-reordering">
<span id="row-col-reordering"></span><h2>Row and Column Reordering<a class="headerlink" href="#row-and-column-reordering" title="Permalink to this headline">¶</a></h2>
<p>Clustergrammer allows users to order rows and columns based on:</p>
<ul class="simple">
<li>sum or variance</li>
<li>hierarchical clustering order</li>
<li>label order</li>
</ul>
<p>by using the reordering-buttons on the sidebar. This can be useful for identifying broad patterns in your data. Users can also reorder their matrix based on the values in a single row/column by double-clicking the row/column labels. Similarly, users can reorder based on categorical information by double-clicking the category labels (see <a class="reference internal" href="#interactive-categories"><span class="std std-ref">Interactive Categories</span></a>). For small matrices reordering events are animated to help users visually track the effects of the transformation.</p>
</div>
<div class="section" id="interactive-dimensionality-reduction">
<span id="interactive-dim-reduction"></span><h2>Interactive Dimensionality Reduction<a class="headerlink" href="#interactive-dimensionality-reduction" title="Permalink to this headline">¶</a></h2>
<p>Dimensionality reduction is a useful data analysis technique (e.g. <a class="reference external" href="https://en.wikipedia.org/wiki/Principal_component_analysis">PCA</a> , <a class="reference external" href="https://lvdmaaten.github.io/tsne/">t-SNE</a>) that is often used to reduce the dimensionality of high-dimensional datasets (e.g. hundreds-thousands of dimensions) down to a number that can be easily be analyzed and visualized (e.g. two-three dimensions). Heatmaps are capable of directly visualizing high-dimensional data, but can also benefit from dimensionality reduction.</p>
<p><strong>Row Filter Sliders</strong></p>
<p>Clustergrammer enables users to interactively perform dimensionality reduction by filtering rows based on sum or variance and instantaneously observe the effects of this dimensionality reduction on clustering (where matrix rows represent dimensions, see <a class="reference internal" href="matrix_format_io.html#matrix-format-io"><span class="std std-ref">Matrix Formats and Input/Output</span></a>). Users can filter for the top rows based on sum or variance using the row-filter-sliders in the sidebar. The sliders allow users to select their top 500, 250, 100, 50, 20, and 10 rows (clustered views of the filtered matrices are pre-calculated by <a class="reference internal" href="clustergrammer_py.html#clustergrammer-py"><span class="std std-ref">Clustergrammer-PY</span></a>). This can be useful for filtering out dimensions that are not of interest (e.g. dimensions with low sum may not be of interest) and determining the effect of these dimensions on clustering.</p>
<blockquote>
<div><strong>&lt;screenshot of sidebar filters and maybe before after fiiltering&gt;</strong></div></blockquote>
<p><strong>Visualizing Dimensionality Reduction</strong></p>
<p>For small matrices dimensionality reduction is animated to help the user visualize the effects this transformation. Clustergrammer employs the concept of <a class="reference external" href="https://bost.ocks.org/mike/constancy/">object constancy</a> by using animations to help the user visually follow changes to their data. Filtering out dimensions (rows) occurs in two steps: 1) filtered rows fade out, then the remaining rows rearrange themselves into their new order (e.g. clustering order). Adding back in dimensions (rows) occurs in two steps: the current rows rearrange themselves into their new positions, then the new rows fade into view.</p>
</div>
<div class="section" id="interactive-dendrogram">
<span id="id1"></span><h2>Interactive Dendrogram<a class="headerlink" href="#interactive-dendrogram" title="Permalink to this headline">¶</a></h2>
<p><em>explain what a dendrogram is</em></p>
<p><em>explain how a user can interact with the dendrogram</em></p>
<p><em>explain how a user can crop using the dendrogram</em></p>
</div>
<div class="section" id="interactive-categories">
<span id="id2"></span><h2>Interactive Categories<a class="headerlink" href="#interactive-categories" title="Permalink to this headline">¶</a></h2>
<p><em>Explain why categories are useful</em></p>
<p><em>mouseover highlighting, reordering, dendrogram breakdown</em></p>
<p><em>category types: string value</em></p>
<p><em>category updating API</em></p>
</div>
<div class="section" id="cropping">
<h2>Cropping<a class="headerlink" href="#cropping" title="Permalink to this headline">¶</a></h2>
<p><em>brush cropping</em></p>
</div>
<div class="section" id="downloading-data-from-the-visualization">
<h2>Downloading Data from the Visualization<a class="headerlink" href="#downloading-data-from-the-visualization" title="Permalink to this headline">¶</a></h2>
<p>Obtaining the underlying data from a visualization for re-use and re-analysis can be a tedious task. To facilitate this common task, Clustergrammer&#8217;s sidebar has a download icon, shown below, that allows users to download the matrix of data in the visualization. The downloaded data reflects the current state of the matrix, e.g. filtering, cropping, and reordering will be reflected in the downloaded data.</p>
<blockquote>
<div><strong>&lt;screenshot of download button in sidebar&gt;</strong></div></blockquote>
</div>
<div class="section" id="taking-a-snapshot-of-the-visualization">
<h2>Taking a Snapshot of the Visualization<a class="headerlink" href="#taking-a-snapshot-of-the-visualization" title="Permalink to this headline">¶</a></h2>
<p><em>stateful snapshots of matrix</em></p>
</div>
<div class="section" id="changing-the-opacity">
<h2>Changing the Opacity<a class="headerlink" href="#changing-the-opacity" title="Permalink to this headline">¶</a></h2>
<p><em>useful for dealing with outlier values</em></p>
</div>
<div class="section" id="row-searching">
<h2>Row Searching<a class="headerlink" href="#row-searching" title="Permalink to this headline">¶</a></h2>
<p><em>useful for working with large datasets, animated</em></p>
</div>
<div class="section" id="expanding">
<h2>Expanding<a class="headerlink" href="#expanding" title="Permalink to this headline">¶</a></h2>
<p><em>when displaying in constrained spaces</em></p>
</div>
<div class="section" id="biology-specific-interactions">
<h2>Biology Specific Interactions<a class="headerlink" href="#biology-specific-interactions" title="Permalink to this headline">¶</a></h2>
<p><a href="#id3"><span class="problematic" id="id4">**</span></a></p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="biology_specific_features.html" class="btn btn-neutral float-right" title="Biology-Specific Features" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="clustergrammer_widget.html" class="btn btn-neutral" title="Clustergrammer Jupyter Widget" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Nicolas F. Fernandez.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>